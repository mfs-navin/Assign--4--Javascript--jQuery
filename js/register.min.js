$(document).ready(function(){
// First Name
$('#first_name').keyup( function (){

  var input = $(this);
  var is_name = input.val();

  if(is_name.length < 3)
  {
    input.removeClass("valid").addClass("invalid");
    input.next().removeClass("error").addClass("error_show").text("Should be more than 3 Characters");
  }

  else if(is_name.length>=3 && is_name.length<=8) 
  {
    input.removeClass("invalid").addClass("valid");
    input.next().removeClass("error_show").addClass("error")
  }

  else
  {
    input.removeClass("valid").addClass("invalid");
    input.next().removeClass("error").addClass("error_show").text("Should be less than 10 Characters");

  }

});

//Last Name
$('#last_name').keyup( function (){

  var input = $(this);
  var is_name = input.val();

  if(is_name.length < 3)
  {
    input.removeClass("valid").addClass("invalid");
    input.next().removeClass("error").addClass("error_show").text("Should be more than 3 Characters");
  }

  else if(is_name.length>=3 && is_name.length<=8) 
  {
    input.removeClass("invalid").addClass("valid");
    input.next().removeClass("error_show").addClass("error")
  }

  else
  {
    input.removeClass("valid").addClass("invalid");
    input.next().removeClass("error").addClass("error_show").text("Should be less than 10 Characters");

  }

});

//Email
$('#email').keyup( function() {
  var input=$(this);
  var re = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
  var is_email=re.test(input.val());
  if(is_email)
  {
    input.removeClass("invalid").addClass("valid");
    input.next().removeClass('error_show').addClass('error');
  }

  else
  {
    input.removeClass("valid").addClass("invalid");
    input.next().removeClass('error').addClass('error_show');
  }
});

//Gender
$('#male').prop("checked",true);
$('#gender').removeClass("invalid").addClass("valid");


//Address
$('#addr').keyup( function (){

  var input = $(this);
  var is_name = input.val();
  if(is_name.length < 10)
  {
    input.removeClass("valid").addClass("invalid");
    input.next().removeClass('error').addClass('error_show').text("Should be more than 10 Characters");
  }

  else
  {
    input.removeClass("invalid").addClass("valid");
    input.next().removeClass("error_show").addClass("error");
  }

});


//City
$('#city').keyup( function (){

  var input = $(this);
  var is_name = input.val();

  if(is_name.length < 3)
  {
    input.removeClass("valid").addClass("invalid");
    input.next().removeClass("error").addClass("error_show").text("Should be more than 3 Characters");
  }

  else
  {
    input.removeClass("invalid").addClass("valid");
    input.next().removeClass("error_show").addClass("error");

  }
});

//Password
$('#password').keyup(function(){

  var input = $(this);
  var pass = input.val();

  if( pass.length < 6)
  {
    input.removeClass('valid').addClass('invalid');
    input.next().removeClass('error').addClass('error_show').text("Too short");
  }

  else if( pass.length >= 6  && pass.length < 18)
  {
    if((pass.match(/([a-z])/) && pass.match(/([A-Z])/) && pass.match(/([0-9])/)) == null)
    {
      input.removeClass('valid').addClass('invalid');
      input.next().removeClass('error').addClass('error_show').text("There must be an uppercase letter and a number");
    }
    else
    {
      input.removeClass('invalid').addClass('valid');
      input.next().removeClass('error_show').addClass('error');
    }
  }

  else
  {
    input.removeClass('valid').addClass('invalid');
    input.next().removeClass('error').addClass('error_show').text("Too long");
  }

});



$("#submit").click(function(event){

//State
var state = $('#state');
var state_value = state.val();

if( state_value == "")
{
  state.removeClass("valid").addClass("invalid");
}

else
{
  state.removeClass("invalid").addClass("valid");
}


var form_data=$("#signup").serializeArray();
var error_free=true;


for (var input in form_data){
  var element=$('#'+form_data[input]['name']);
  var valid=element.hasClass("valid");
  var error_element=$("span", element.parent());
  if (!valid){error_element.removeClass("error").addClass("error_show"); error_free=false;}
  else{error_element.removeClass("error_show").addClass("error");}
}
if (!error_free){
  event.preventDefault();
}
else{
  alert('No errors: Form will be submitted');
}

});

});



